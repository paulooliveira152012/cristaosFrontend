/* ---------------------------------------------------------
   UTILITIES (reutilizáveis) — depende de tokens.css
   --------------------------------------------------------- */

/* ===== Containers ===== */
.container {
    width: 100%;
    max-width: var(--container);
    margin-inline: auto;
    padding-inline: var(--space-4);
  }
  .container--narrow { max-width: var(--container-narrow); }
  .container--wide   { max-width: var(--container-wide); }
  
  .section { padding-block: var(--space-6); }
  .stack { display: grid; gap: var(--space-4); }
  
  /* ===== Cards ===== */
  .card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-md);
  }
  .card--inset { box-shadow: var(--shadow-inner); }
  .card--interactive {
    transition: box-shadow var(--dur-2) var(--ease-out), transform var(--dur-1) var(--ease-out);
  }
  .card--interactive:hover { box-shadow: var(--shadow-lg); transform: translateY(-1px); }
  
  /* ===== Buttons ===== */
  .btn {
    display: inline-flex; align-items: center; justify-content: center; gap: .5rem;
    border: 0;
    background: var(--accent);
    color: var(--accent-contrast);
    padding: 0.625rem 0.875rem; /* 10px 14px */
    border-radius: var(--radius-sm);
    font-weight: var(--fw-bold);
    font-size: var(--fs-sm);
    cursor: pointer;
    box-shadow: 0 6px 20px color-mix(in oklab, var(--accent) 35%, transparent);
    transition: transform var(--dur-1) var(--ease-out), box-shadow var(--dur-2) var(--ease-out), opacity var(--dur-2);
  }
  .btn:hover { box-shadow: 0 8px 26px color-mix(in oklab, var(--accent) 45%, transparent); }
  .btn:active { transform: translateY(1px); }
  .btn:disabled,
  .btn[disabled] { opacity: .55; cursor: not-allowed; }
  
  .btn--outline { background: transparent; color: var(--accent); border: 1px solid var(--accent); box-shadow: none; }
  .btn--ghost   { background: transparent; color: var(--text);   border: 1px solid var(--border); box-shadow: none; }
  .btn--secondary { background: var(--surface); color: var(--text); border: 1px solid var(--border); box-shadow: var(--shadow-sm); }
  .btn--danger    { background: var(--danger);  color: #fff; box-shadow: 0 6px 20px color-mix(in oklab, var(--danger) 35%, transparent); }
  
  /* tamanhos */
  .btn--sm { padding: 0.5rem 0.75rem; font-size: var(--fs-xs); border-radius: var(--radius-xs); }
  .btn--lg { padding: 0.75rem 1rem;   font-size: var(--fs-md); border-radius: var(--radius-md); }
  .btn--icon { padding: 0.5rem; width: 2.25rem; height: 2.25rem; }
  
  /* loading */
  .btn.is-loading { position: relative; pointer-events: none; }
  .btn.is-loading::after {
    content: "";
    width: 1em; height: 1em;
    border: 2px solid color-mix(in oklab, var(--accent) 40%, transparent);
    border-top-color: var(--accent-contrast);
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }
  @keyframes spin { to { transform: rotate(360deg); } }
  
  /* ===== Inputs / Fields ===== */
  .input,
  .textarea,
  .select {
    width: 100%;
    border: 1px solid var(--border);
    background: var(--card);
    color: var(--text);
    padding: 0.625rem 0.75rem;
    border-radius: var(--radius-sm);
    outline: none;
    box-shadow: var(--shadow-inner);
    font-size: var(--fs-md);
  }
  .input::placeholder,
  .textarea::placeholder { color: var(--muted); }
  .textarea { min-height: 2.5rem; resize: vertical; }
  .select { appearance: none; background-image: none; }
  
  .field { display: grid; gap: .375rem; }
  .field > label { font-size: var(--fs-sm); color: var(--muted); font-weight: var(--fw-medium); }
  .field .help { font-size: var(--fs-xs); color: var(--muted); }
  
  /* foco acessível global (mantém o padrão do tokens) */
  :focus-visible { outline: 3px solid var(--ring); outline-offset: 2px; }
  
  /* ===== Badges / Tags ===== */
  .badge {
    display: inline-flex; align-items: center; justify-content: center;
    height: 1.375rem; min-width: 1.375rem; padding-inline: 0.5rem;
    border-radius: var(--radius-full);
    background: #f90c28; color: #fff;
    font-size: var(--fs-2xs); font-weight: var(--fw-extrabold);
    box-shadow: 0 2px 8px rgba(249, 12, 40, .35);
  }
  .badge--success { background: var(--success); box-shadow: 0 2px 8px color-mix(in oklab, var(--success) 35%, transparent); }
  .badge--warning { background: var(--warning); box-shadow: 0 2px 8px color-mix(in oklab, var(--warning) 35%, transparent); }
  .badge--info    { background: var(--info);    box-shadow: 0 2px 8px color-mix(in oklab, var(--info) 35%, transparent); }
  
  .tag {
    display: inline-flex; align-items: center; gap: .375rem;
    padding: .25rem .5rem;
    border-radius: var(--radius-full);
    background: var(--surface);
    border: 1px solid var(--border);
    color: var(--text);
    font-size: var(--fs-xs);
  }
  
  /* ===== Divider ===== */
  .divider { width: 100%; height: 1px; background: var(--border); border: 0; margin: var(--space-4) 0; }
  .divider--dashed { background: none; border-top: 1px dashed var(--border); }
  
  /* ===== Text utilities ===== */
  .muted { color: var(--muted) !important; }
  .lead  { font-size: var(--fs-lg); color: var(--text); }
  .small { font-size: var(--fs-sm); }
  .text-center { text-align: center; }
  .text-right  { text-align: right; }
  .text-left   { text-align: left; }
  
  .link { color: var(--accent); text-decoration: none; transition: color var(--dur-2) var(--ease-out); }
  .link:hover { color: color-mix(in oklab, var(--accent) 85%, white); }
  
  /* ===== Radius & Shadow helpers ===== */
  .radius-xs { border-radius: var(--radius-xs); }
  .radius-sm { border-radius: var(--radius-sm); }
  .radius-md { border-radius: var(--radius-md); }
  .radius-lg { border-radius: var(--radius-lg); }
  .radius-xl { border-radius: var(--radius-xl); }
  .radius-full { border-radius: var(--radius-full); }
  
  .shadow-sm { box-shadow: var(--shadow-sm); }
  .shadow-md { box-shadow: var(--shadow-md); }
  .shadow-lg { box-shadow: var(--shadow-lg); }
  
  /* ===== Skeleton ===== */
  .skeleton-line {
    width: 100%; height: 1rem; border-radius: var(--radius-sm);
    background: linear-gradient(90deg,
      color-mix(in oklab, var(--text) 6%, transparent),
      color-mix(in oklab, var(--text) 12%, transparent),
      color-mix(in oklab, var(--text) 6%, transparent));
    background-size: 200% 100%;
    animation: shimmer 1.6s infinite;
  }
  @keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
  
  /* ===== Helpers ===== */
  .hidden { display: none !important; }
  .visually-hidden {
    position: absolute !important; width: 1px; height: 1px; padding: 0; margin: -1px;
    overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;
  }
  
  /* Scrollbar discreta (webkit) */
  ::-webkit-scrollbar { width: 10px; height: 10px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: #00000022; border-radius: 8px; border: 2px solid transparent; }
  body.dark-mode ::-webkit-scrollbar-thumb { background: #ffffff22; }
  